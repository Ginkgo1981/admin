<div class="row">
    <ba-card class="col-xs-12"
             title="story" baCardClass="with-scroll large-card">

        <button type="button" (click)="openImageUploaderDrawer()"> 打开学校相册 </button>
        <button type="button" (click)="openMajorsDrawer()"> 打开专业列表 </button>

        <form [formGroup]="storyForm" (ngSubmit)="update_or_create($event)">
            <div class="form-group">
                <input formControlName="title" type="text" class="form-control" placeholder="title">
            </div>
            <div class="form-group">
                <quill-editor #content formControlName="content"></quill-editor>
            </div>
            <button type="submit" class="btn btn-success">create story</button>
        </form>

        <div>
            <button type="button" class="btn btn-default"
                    (click)="delete_story($event)"> 删除图文
            </button>
        </div>

    </ba-card>
</div>


<!-- image uploader tmpl -->
<template #imageUploaderTmpl>
    <div class="row">
        <ba-card class="col-xlg-12 col-xl-12 col-lg-12 col-sm-12 col-xs-12"
                 title="上传学校相册" baCardClass="traffic-panel large-card">
            <ba-images-uploader
                    (onStateChanged)="onPhotoSelected($event)"
                    [dsin]="university.dsin"
            ></ba-images-uploader>
        </ba-card>
    </div>
</template>

<!-- majors tmpl -->
<template #majorsTmpl>
    <div class="row">
        <ba-card class="col-xlg-12 col-xl-12 col-lg-12 col-sm-12 col-xs-12"
                 title="专业列表" baCardClass="traffic-panel large-card">
            <ba-majors-list
                    [university_dsin]= "university.dsin"
                    [columns]="major_columns"
                    (onActivateChanged)="onMajorChoose($event)">
            </ba-majors-list>

        </ba-card>
    </div>
</template>